function GET(a){var b={};return document.location.search.replace(/\??(?:([^=]+)=([^&]*)&?)/g,function(){function a(a){return decodeURIComponent(a.split("+").join(" "))}b[a(arguments[1])]=a(arguments[2])}),b[a]}function AnchorBox(a,b,c,d){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0}function isEnterKey(a){return a.keyCode!==229&&a.keyIdentifier==="Enter"}function consumeEvent(a){a.consume()}function highlightSearchResult(a,b,c,d){var e=highlightSearchResults(a,[{offset:b,length:c}],d);return e.length?e[0]:null}function highlightSearchResults(a,b,c){return highlightRangesWithStyleClass(a,b,"webkit-search-result",c)}function highlightRangesWithStyleClass(a,b,c,d){d=d||[];var e=[],f=a.textContent,g=a.ownerDocument,h=g.evaluate(".//text()",a,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),i=h.snapshotLength;if(i===0)return e;var j=[],k=0;for(var l=0;l<i;++l){var m={};m.offset=k,m.length=h.snapshotItem(l).textContent.length,k=m.offset+m.length,j.push(m)}var n=0;for(var l=0;l<b.length;++l){var o=b[l].offset,p=o+b[l].length;while(n<i&&j[n].offset+j[n].length<=o)n++;var q=n;while(q<i&&j[q].offset+j[q].length<p)q++;if(q===i)break;var r=g.createElement("span");r.className=c,r.textContent=f.substring(o,p);var s=h.snapshotItem(q),t=s.textContent;s.textContent=t.substring(p-j[q].offset),d.push({node:s,type:"changed",oldText:t,newText:s.textContent});if(n===q){s.parentElement.insertBefore(r,s),d.push({node:r,type:"added",nextSibling:s,parent:s.parentElement}),e.push(r);var u=g.createTextNode(t.substring(0,o-j[n].offset));s.parentElement.insertBefore(u,r),d.push({node:u,type:"added",nextSibling:r,parent:s.parentElement})}else{var v=h.snapshotItem(n),w=v.textContent,x=v.nextSibling;v.parentElement.insertBefore(r,x),d.push({node:r,type:"added",nextSibling:x,parent:v.parentElement}),e.push(r),v.textContent=w.substring(0,o-j[n].offset),d.push({node:v,type:"changed",oldText:w,newText:v.textContent});for(var y=n+1;y<q;y++){var z=h.snapshotItem(y),A=z.textContent;z.textContent="",d.push({node:z,type:"changed",oldText:A,newText:z.textContent})}}n=q,j[n].offset=p,j[n].length=s.textContent.length}return e}function applyDomChanges(a){for(var b=0,c=a.length;b<c;++b){var d=a[b];switch(d.type){case"added":d.parent.insertBefore(d.node,d.nextSibling);break;case"changed":d.node.textContent=d.newText}}}function revertDomChanges(a){for(var b=a.length-1;b>=0;--b){var c=a[b];switch(c.type){case"added":c.node.parentElement&&c.node.parentElement.removeChild(c.node);break;case"changed":c.node.textContent=c.oldText}}}function createSearchRegex(a,b,c){var d=b?"g":"gi",e;if(c)try{e=new RegExp(a,d)}catch(f){}return e||(e=createPlainTextSearchRegex(a,d)),e}function createPlainTextSearchRegex(a,b){var c="[](){}+-*.,?\\^$|",d="";for(var e=0;e<a.length;++e){var f=a.charAt(e);c.indexOf(f)!=-1&&(d+="\\"),d+=f}return new RegExp(d,b||"")}function countRegexMatches(a,b){var c=b,d=0,e;while(c&&(e=a.exec(c)))e[0].length>0&&++d,c=c.substring(e.index+1);return d}function numberToStringWithSpacesPadding(a,b){var c=a.toString(),d=Math.max(0,b-c.length),e=Array(d+1).join(" ");return e+c}function TextDiff(){this.added=[],this.removed=[],this.changed=[]}(function(a){function e(a,b){function e(a){var b=[],c=a.clipboardData||{},e=c.items||[];for(var f=0;f<e.length;f++){var g=e[f].getAsFile();if(g){var h=(new RegExp("image/(.*)")).exec(g.type);if(h){var i=h[1];g.name="clipboard"+f+"."+i,b.push(g)}}}b.length&&(j(b,d),a.preventDefault(),a.stopPropagation())}if(!c.enabled)return;var d=l(l({},c.opts),b);a.addEventListener("paste",e,!1)}function f(a,b){function e(a){j(a.target.files,d)}if(!c.enabled)return;var d=l(l({},c.opts),b);a.addEventListener("change",e,!1)}function g(a,b){function f(b){b.stopPropagation(),b.preventDefault(),e&&o(a,e),j(b.dataTransfer.files,d)}function g(b){e&&n(a,e),b.stopPropagation(),b.preventDefault()}function h(b){e&&o(a,e)}function i(b){e&&n(a,e),b.stopPropagation(),b.preventDefault()}if(!c.enabled)return;var d=l(l({},c.opts),b),e=d.dragClass;a.addEventListener("dragenter",g,!1),a.addEventListener("dragleave",h,!1),a.addEventListener("dragover",i,!1),a.addEventListener("drop",f,!1)}function h(a,b){for(var c=0;c<a.length;c++){var d=a[c];d.extra={nameNoExtension:d.name.substring(0,d.name.lastIndexOf(".")),extension:d.name.substring(d.name.lastIndexOf(".")+1),fileID:c,uniqueID:r(),groupID:b,prettySize:p(d.size)}}}function i(a,b,c){for(var d in b)if(a.match(new RegExp(d)))return"readAs"+b[d];return"readAs"+c}function j(a,e){var f={groupID:q(),files:a,started:new Date};c.output.push(f);var g=a.length,j=function(){--g==0&&(f.ended=new Date,e.on.groupend(f))};h(a,f.groupID),e.on.groupstart(f),a.length||(f.ended=new Date,e.on.groupend(f));for(var k=0;k<a.length;k++){var l=a[k];if(e.accept&&!l.type.match(new RegExp(e.accept))){e.on.skip(l),j();continue}if(e.on.beforestart(l)===!1){e.on.skip(l),j();continue}var m=new b;for(var n=0;n<d.length;n++){var o=d[n];m["on"+o]=function(a,b){return function(c){e.on[a](c,b),a=="loadend"&&j()}}(o,l)}m[i(l.type,e.readAsMap,e.readAsDefault)](l)}}function k(){}function l(a,b){for(var c in b)b[c]&&b[c].constructor&&b[c].constructor===Object?(a[c]=a[c]||{},arguments.callee(a[c],b[c])):a[c]=b[c];return a}function m(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}function n(a,b){m(a,b)||(a.className+=" "+b)}function o(a,b){if(m(a,b)){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ")}}function p(a){var b=["bytes","kb","MB","GB","TB","PB"],c=Math.floor(Math.log(a)/Math.log(1024));return(a/Math.pow(1024,Math.floor(c))).toFixed(2)+" "+b[c]}var b=a.FileReader,c=a.FileReaderJS={enabled:!1,setupInput:f,setupDrop:g,setupClipboard:e,opts:{dragClass:!1,accept:!1,readAsMap:{"image/*":"DataURL","text/*":"Text"},readAsDefault:"BinaryString",on:{loadstart:k,progress:k,load:k,abort:k,error:k,loadend:k,skip:k,groupstart:k,groupend:k,beforestart:k}},output:[]},d=["loadstart","progress","load","abort","error","loadend"];typeof jQuery!="undefined"&&(jQuery.fn.fileReaderJS=function(a){return this.each(function(){$(this).is("input")?f(this,a):g(this,a)})},jQuery.fn.fileClipboard=function(a){return this.each(function(){e(this,a)})});if(!b)return;var q=function(a){return function(){return a++}}(0),r=function(a){return function(){return a++}}(0);c.enabled=!0})(this),function(a){function k(a,b){if(typeof a=="object"&&a.hasOwnProperty("_tc_id"))return a;var c=l(a),e=c.r,g=c.g,h=c.b,i=j(c.a),k=c.format;return e<1&&(e=f(e)),g<1&&(g=f(g)),h<1&&(h=f(h)),{ok:c.ok,format:k,_tc_id:d++,alpha:i,toHsv:function(){var a=p(e,g,h);return{h:a.h,s:a.s,v:a.v,a:i}},toHsvString:function(){var a=p(e,g,h),b=f(a.h*360),c=f(a.s*100),d=f(a.v*100);return i==1?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+i+")"},toHsl:function(){var a=n(e,g,h);return{h:a.h,s:a.s,l:a.l,a:i}},toHslString:function(){var a=n(e,g,h),b=f(a.h*360),c=f(a.s*100),d=f(a.l*100);return i==1?"hsl("+b+", "+c+"%, "+d+"%)":"hsla("+b+", "+c+"%, "+d+"%, "+i+")"},toHex:function(){return r(e,g,h)},toHexString:function(){return"#"+r(e,g,h)},toRgb:function(){return{r:f(e),g:f(g),b:f(h),a:i}},toRgbString:function(){return i==1?"rgb("+f(e)+", "+f(g)+", "+f(h)+")":"rgba("+f(e)+", "+f(g)+", "+f(h)+", "+i+")"},toName:function(){return t[r(e,g,h)]||!1},toFilter:function(){var a=r(e,g,h),b=Math.round(j(i)*255).toString(16);return"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+b+a+",endColorstr=#"+b+a+")"},toString:function(a){a=a||this.format;var b=!1;return a==="rgb"&&(b=this.toRgbString()),a==="hex"&&(b=this.toHexString()),a==="name"&&(b=this.toName()),a==="hsl"&&(b=this.toHslString()),a==="hsv"&&(b=this.toHsvString()),b||this.toHexString()}}}function l(a){var b={r:255,g:255,b:255},c=1,d=!1,e=!1;typeof a=="string"&&(a=C(a));if(typeof a=="object"){if(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b"))b=m(a.r,a.g,a.b),d=!0,e="rgb";else if(a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v"))a.s=A(a.s),a.v=A(a.v),b=q(a.h,a.s,a.v),d=!0,e="hsv";else if(a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")){a.s=A(a.s),a.l=A(a.l);var b=o(a.h,a.s,a.l);d=!0,e="hsl"}a.hasOwnProperty("a")&&(c=a.a)}return{ok:d,format:a.format||e,r:g(255,h(b.r,0)),g:g(255,h(b.g,0)),b:g(255,h(b.b,0)),a:c}}function m(a,b,c){return{r:v(a,255)*255,g:v(b,255)*255,b:v(c,255)*255}}function n(a,b,c){a=v(a,255),b=v(b,255),c=v(c,255);var d=h(a,b,c),e=g(a,b,c),f,i,j=(d+e)/2;if(d==e)f=i=0;else{var k=d-e;i=j>.5?k/(2-d-e):k/(d+e);switch(d){case a:f=(b-c)/k+(b<c?6:0);break;case b:f=(c-a)/k+2;break;case c:f=(a-b)/k+4}f/=6}return{h:f,s:i,l:j}}function o(a,b,c){function g(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var d,e,f;a=v(a,360),b=v(b,100),c=v(c,100);if(b==0)d=e=f=c;else{var h=c<.5?c*(1+b):c+b-c*b,i=2*c-h;d=g(i,h,a+1/3),e=g(i,h,a),f=g(i,h,a-1/3)}return{r:d*255,g:e*255,b:f*255}}function p(a,b,c){a=v(a,255),b=v(b,255),c=v(c,255);var d=h(a,b,c),e=g(a,b,c),f,i,j=d,k=d-e;i=d==0?0:k/d;if(d==e)f=0;else{switch(d){case a:f=(b-c)/k+(b<c?6:0);break;case b:f=(c-a)/k+2;break;case c:f=(a-b)/k+4}f/=6}return{h:f,s:i,v:j}}function q(a,b,c){var d,f,g;a=v(a,360)*6,b=v(b,100),c=v(c,100);var h=e.floor(a),i=a-h,j=c*(1-b),k=c*(1-i*b),l=c*(1-(1-i)*b),m=h%6,d=[c,k,j,j,l,c][m],f=[l,c,c,k,j,j][m],g=[j,j,l,c,c,k][m];return{r:d*255,g:f*255,b:g*255}}function r(a,b,c){function d(a){return a.length==1?"0"+a:""+a}var e=[d(f(a).toString(16)),d(f(b).toString(16)),d(f(c).toString(16))];return e[0][0]==e[0][1]&&e[1][0]==e[1][1]&&e[2][0]==e[2][1]?e[0][0]+e[1][0]+e[2][0]:e.join("")}function u(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function v(a,b){y(a)&&(a="100%");var c=z(a);return a=g(b,h(0,j(a))),c&&(a=parseInt(a*b)/100),e.abs(a-b)<1e-6?1:a%b/j(b)}function w(a){return g(1,h(0,a))}function x(a){return parseInt(a,16)}function y(a){return typeof a=="string"&&a.indexOf(".")!=-1&&j(a)===1}function z(a){return typeof a=="string"&&a.indexOf("%")!=-1}function A(a){return a<=1&&(a=a*100+"%"),a}function C(a){a=a.replace(b,"").replace(c,"").toLowerCase();var d=!1;if(s[a])a=s[a],d=!0;else if(a=="transparent")return{r:0,g:0,b:0,a:0};var e;return(e=B.rgb.exec(a))?{r:e[1],g:e[2],b:e[3]}:(e=B.rgba.exec(a))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=B.hsl.exec(a))?{h:e[1],s:e[2],l:e[3]}:(e=B.hsla.exec(a))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=B.hsv.exec(a))?{h:e[1],s:e[2],v:e[3]}:(e=B.hex6.exec(a))?{r:x(e[1]),g:x(e[2]),b:x(e[3]),format:d?"name":"hex"}:(e=B.hex3.exec(a))?{r:x(e[1]+""+e[1]),g:x(e[2]+""+e[2]),b:x(e[3]+""+e[3]),format:d?"name":"hex"}:!1}var b=/^[\s,#]+/,c=/\s+$/,d=0,e=Math,f=e.round,g=e.min,h=e.max,i=e.random,j=a.parseFloat;k.fromRatio=function(a){if(typeof a=="object"){var b={};for(var c in a)b[c]=A(a[c]);a=b}return k(a)},k.equals=function(a,b){return!a||!b?!1:k(a).toHex()==k(b).toHex()},k.random=function(){return k.fromRatio({r:i(),g:i(),b:i()})},k.desaturate=function(a,b){var c=k(a).toHsl();return c.s-=(b||10)/100,c.s=w(c.s),k(c)},k.saturate=function(a,b){var c=k(a).toHsl();return c.s+=(b||10)/100,c.s=w(c.s),k(c)},k.greyscale=function(a){return k.desaturate(a,100)},k.lighten=function(a,b){var c=k(a).toHsl();return c.l+=(b||10)/100,c.l=w(c.l),k(c)},k.darken=function(a,b){var c=k(a).toHsl();return c.l-=(b||10)/100,c.l=w(c.l),k(c)},k.complement=function(a){var b=k(a).toHsl();return b.h=(b.h+.5)%1,k(b)},k.triad=function(a){var b=k(a).toHsl(),c=b.h*360;return[k(a),k({h:(c+120)%360,s:b.s,l:b.l}),k({h:(c+240)%360,s:b.s,l:b.l})]},k.tetrad=function(a){var b=k(a).toHsl(),c=b.h*360;return[k(a),k({h:(c+90)%360,s:b.s,l:b.l}),k({h:(c+180)%360,s:b.s,l:b.l}),k({h:(c+270)%360,s:b.s,l:b.l})]},k.splitcomplement=function(a){var b=k(a).toHsl(),c=b.h*360;return[k(a),k({h:(c+72)%360,s:b.s,l:b.l}),k({h:(c+216)%360,s:b.s,l:b.l})]},k.analogous=function(a,b,c){b=b||6,c=c||30;var d=k(a).toHsl(),e=360/c,f=[k(a)];d.h*=360;for(d.h=(d.h-(e*b>>1)+720)%360;--b;)d.h=(d.h+e)%360,f.push(k(d));return f},k.monochromatic=function(a,b){b=b||6;var c=k(a).toHsv(),d=c.h,e=c.s,f=c.v,g=[],h=1/b;while(b--)g.push(k({h:d,s:e,v:f})),f=(f+h)%1;return g},k.readable=function(a,b){var c=k(a).toRgb(),d=k(b).toRgb();return(d.r-c.r)*(d.r-c.r)+(d.g-c.g)*(d.g-c.g)+(d.b-c.b)*(d.b-c.b)>10404};var s=k.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},t=k.hexNames=u(s),B=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();a.tinycolor=k}(this),function(a){function h(a,b){var c=a.length;while(c--)if(a[c]===b)return c;return-1}function i(a){var b,g,i,j,k;b=a.keyCode;if(b==93||b==224)b=91;if(b in d){d[b]=!0;for(i in f)f[i]==b&&(l[i]=!0);return}if(!l.filter.call(this,a))return;if(!(b in c))return;for(j=0;j<c[b].length;j++){g=c[b][j];if(g.scope==e||g.scope=="all"){k=g.mods.length>0;for(i in d)if(!d[i]&&h(g.mods,+i)>-1||d[i]&&h(g.mods,+i)==-1)k=!1;(g.mods.length==0&&!d[16]&&!d[18]&&!d[17]&&!d[91]||k)&&g.method(a,g)===!1&&(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble&&(a.cancelBubble=!0))}}}function j(a){var b=a.keyCode,c;if(b==93||b==224)b=91;if(b in d){d[b]=!1;for(c in f)f[c]==b&&(l[c]=!1)}}function k(){for(b in d)d[b]=!1;for(b in f)l[b]=!1}function l(a,b,d){var e,h,i,j;d===undefined&&(d=b,b="all"),a=a.replace(/\s/g,""),e=a.split(","),e[e.length-1]==""&&(e[e.length-2]+=",");for(i=0;i<e.length;i++){h=[],a=e[i].split("+");if(a.length>1){h=a.slice(0,a.length-1);for(j=0;j<h.length;j++)h[j]=f[h[j]];a=[a[a.length-1]]}a=a[0],a=g[a]||a.toUpperCase().charCodeAt(0),a in c||(c[a]=[]),c[a].push({shortcut:e[i],scope:b,method:d,key:e[i],mods:h})}}function m(a){var b=(a.target||a.srcElement).tagName;return b!="INPUT"&&b!="SELECT"&&b!="TEXTAREA"}function n(a){e=a||"all"}function o(){return e||"all"}function p(a){var b,d,e;for(b in c){d=c[b];for(e=0;e<d.length;)d[e].scope===a?d.splice(e,1):e++}}function q(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(){c(window.event)})}var b,c={},d={16:!1,18:!1,17:!1,91:!1},e="all",f={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},g={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,plus:187,minus:189,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220};for(b=1;b<20;b++)f["f"+b]=111+b;for(b in f)l[b]=!1;$(document).bind("keydown",i),$(document).bind("keyup",j),q(window,"focus",k),a.key=l,a.key.setScope=n,a.key.getScope=o,a.key.deleteScope=p,a.key.filter=m,typeof module!="undefined"&&(module.exports=key)}(this),function(){function b(a,b){return[].slice.call((b||document).querySelectorAll(a))}if(!window.addEventListener)return;var a=window.StyleFix={link:function(b){try{if(b.rel!=="stylesheet"||b.hasAttribute("data-noprefix"))return}catch(c){return}var d=b.href||b.getAttribute("data-href"),e=d.replace(/[^\/]+$/,""),f=b.parentNode,g=new XMLHttpRequest;g.open("GET",d),g.onreadystatechange=function(){if(g.readyState===4){var c=g.responseText;if(c&&b.parentNode){c=a.fix(c,!0,b),e&&(c=c.replace(/url\(((?:"|')?)(.+?)\1\)/gi,function(a,b,c){return/^([a-z]{3,10}:|\/|#)/i.test(c)?a:'url("'+e+c+'")'}),c=c.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+e,"gi"),"$1"));var d=document.createElement("style");d.textContent=c,d.media=b.media,d.disabled=b.disabled,d.setAttribute("data-href",b.getAttribute("href")),f.insertBefore(d,b),f.removeChild(b)}}},g.send(null),b.setAttribute("data-inprogress","")},styleElement:function(b){var c=b.disabled;b.textContent=a.fix(b.textContent,!0,b),b.disabled=c},styleAttribute:function(b){var c=b.getAttribute("style");c=a.fix(c,!1,b),b.setAttribute("style",c)},process:function(){b('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),b("style").forEach(StyleFix.styleElement),b("[style]").forEach(StyleFix.styleAttribute)},register:function(b,c){(a.fixers=a.fixers||[]).splice(c===undefined?a.fixers.length:c,0,b)},fix:function(b,c){for(var d=0;d<a.fixers.length;d++)b=a.fixers[d](b,c)||b;return b},camelCase:function(a){return a.replace(/-([a-z])/g,function(a,b){return b.toUpperCase()}).replace("-","")},deCamelCase:function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}}}(),function(a,b){if(!window.StyleFix||!window.getComputedStyle)return;var c=window.PrefixFree={prefixCSS:function(a,b){function e(b,d,e,f){b=c[b];if(b.length){var g=RegExp(d+"("+b.join("|")+")"+e,"gi");a=a.replace(g,f)}}var d=c.prefix;e("functions","(\\s|:|,)","\\s*\\(","$1"+d+"$2("),e("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+d+"$2$3"),e("properties","(^|\\{|\\s|;)","\\s*:","$1"+d+"$2:");if(c.properties.length){var f=RegExp("\\b("+c.properties.join("|")+")(?!:)","gi");e("valueProperties","\\b",":(.+?);",function(a){return a.replace(f,d+"$1")})}return b&&(e("selectors","","\\b",c.prefixSelector),e("atrules","@","\\b","@"+d+"$1")),a=a.replace(RegExp("-"+d,"g"),"-"),a},prefixSelector:function(a){return a.replace(/^:{1,2}/,function(a){return a+c.prefix})},prefixProperty:function(a,b){var d=c.prefix+a;return b?StyleFix.camelCase(d):d}};(function(){var a={},b=[],d={},e=getComputedStyle(document.documentElement,null),f=document.createElement("div").style,g=function(c){if(c.charAt(0)==="-"){b.push(c);var d=c.split("-"),e=d[1];a[e]=++a[e]||1;while(d.length>3){d.pop();var f=d.join("-");h(f)&&b.indexOf(f)===-1&&b.push(f)}}},h=function(a){return StyleFix.camelCase(a)in f};if(e.length>0)for(var i=0;i<e.length;i++)g(e[i]);else for(var j in e)g(StyleFix.deCamelCase(j));var k={uses:0};for(var l in a){var m=a[l];k.uses<m&&(k={prefix:l,uses:m})}c.prefix="-"+k.prefix+"-",c.Prefix=StyleFix.camelCase(c.prefix),c.properties=[];for(var i=0;i<b.length;i++){var j=b[i];if(j.indexOf(c.prefix)===0){var n=j.slice(c.prefix.length);h(n)||c.properties.push(n)}}c.Prefix=="Ms"&&!("transform"in f)&&!("MsTransform"in f)&&"msTransform"in f&&c.properties.push("transform","transform-origin"),c.properties.sort()})(),function(){function e(a,b){return d[b]="",d[b]=a,!!d[b]}var a={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};a["repeating-linear-gradient"]=a["repeating-radial-gradient"]=a["radial-gradient"]=a["linear-gradient"];var b={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display"};c.functions=[],c.keywords=[];var d=document.createElement("div").style;for(var f in a){var g=a[f],h=g.property,i=f+"("+g.params+")";!e(i,h)&&e(c.prefix+i,h)&&c.functions.push(f)}for(var j in b){var h=b[j];!e(j,h)&&e(c.prefix+j,h)&&c.keywords.push(j)}}(),function(){function f(a){return e.textContent=a+"{}",!!e.sheet.cssRules.length}var b={":read-only":null,":read-write":null,":any-link":null,"::selection":null},d={keyframes:"name",viewport:null,document:'regexp(".")'};c.selectors=[],c.atrules=[];var e=a.appendChild(document.createElement("style"));for(var g in b){var h=g+(b[g]?"("+b[g]+")":"");!f(h)&&f(c.prefixSelector(h))&&c.selectors.push(g)}for(var i in d){var h=i+" "+(d[i]||"");!f("@"+h)&&f("@"+c.prefix+h)&&c.atrules.push(i)}a.removeChild(e)}(),c.valueProperties=["transition","transition-property"],a.className+=" "+c.prefix,StyleFix.register(c.prefixCSS)}(document.documentElement),function(a,b,c){function j(){for(var a=0;a<e.length;a++)e[a]&&e[a].hide()}function k(a,c){var e=b.extend({},d,a);return e.callbacks={move:p(e.move,c),change:p(e.change,c),show:p(e.show,c),hide:p(e.hide,c),beforeShow:p(e.beforeShow,c)},e}function l(c,d){function bl(){function d(a){return a.data&&a.data.ignore?(by(b(this).data("color"),!0),bB()):(by(b(this).data("color")),bB(),bw()),!1}f&&S.find("*:not(input)").attr("unselectable","on"),S.toggleClass("sp-flat",n),S.toggleClass("sp-input-disabled",!u),S.toggleClass("sp-buttons-disabled",!l.showButtons||n),S.toggleClass("sp-palette-disabled",!s),S.toggleClass("sp-palette-only",p),S.toggleClass("sp-initial-disabled",!t),S.addClass(l.className),bc&&R.hide().after(bd),n?R.after(S).hide():b(Q).append(S.hide());if(x&&a.localStorage)try{N=a.localStorage[x].split(",")}catch(c){}be.bind("click.spectrum touchstart.spectrum",function(a){bt(),a.stopPropagation(),b(a.target).is("input")||a.preventDefault()}),S.click(o),X.change(bs),X.bind("paste",function(){setTimeout(bs,1)}),X.keydown(function(a){a.keyCode==13&&bs()}),_.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),bv(),bw()}),ba.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),bA()&&(bE(),bw())}),q(V,function(a,b){I=b/F,bB()},bq,br),q(T,function(a,b){J=a/C,K=(D-b)/D,bB()},bq,br),!bg||(by(bg,!0),bm(bg)),n&&bu();var e=f?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Y.delegate("span",e,d),Z.delegate("span::nth-child(1)",e,{ignore:!0},d)}function bm(b){w&&(N.push(tinycolor(b).toHexString()),x&&a.localStorage&&(a.localStorage[x]=N.join(",")))}function bn(){var a=[],b=N,c={};if(s){for(var d=0;d<M.length;d++)for(var e=0;e<M[d].length;e++){var f=tinycolor(M[d][e]).toHexString();c[f]=!0}for(var d=0;d<b.length;d++){var g=tinycolor(b[d]),f=g.toHexString();c.hasOwnProperty(f)||(a.push(b[d]),c[f]=!0)}}return a.reverse().slice(0,l.maxSelectionSize)}function bo(){var a=bz(),c=b.map(M,function(b,c){return i(b,a,"sp-palette-row sp-palette-row-"+c)});N&&c.push(i(bn(),a,"sp-palette-row sp-palette-row-selection")),Y.html(c.join(""))}function bp(){if(t){var a=bh,b=bz();Z.html(i([a,b],b,"sp-palette-row-initial"))}}function bq(){(D===0||C===0||F===0)&&bF(),S.addClass(O),R.trigger("spectrum.movestart")}function br(){S.removeClass(O),R.trigger("spectrum.moveend")}function bs(){var a=tinycolor(X.val());a.ok?(by(a,!0),bB()):X.addClass("sp-validation-error")}function bt(){B?bw():bu()}function bu(){if(B){bF();return}if(z.beforeShow(bz())===!1)return;j(),B=!0,b(P).bind("click.spectrum",bw),b(a).bind("resize.spectrum",A),bd.addClass("sp-active"),S.show(),bF(),bC(),bh=bz(),bp(),z.show(bh)}function bv(){bw()}function bw(){if(!B||n)return;B=!1,b(P).unbind("click.spectrum",bw),b(a).unbind("resize.spectrum",A),bd.removeClass("sp-active"),S.hide();var c=!tinycolor.equals(bz(),bh);!bk&&c&&bx(),z.hide(bz())}function bx(){by(bh,!0,!0)}function by(a,b,c){bC();if(tinycolor.equals(a,bz()))return;var d=tinycolor(a),e=d.toHsv();I=e.h,J=e.s,K=e.v,bC(),c||(bj=bi||d.format),!b&&!tinycolor.equals(a,bh)&&bE()}function bz(){return tinycolor.fromRatio({h:I,s:J,v:K})}function bA(){return!X.hasClass("sp-validation-error")}function bB(){bC(),z.move(bz())}function bC(){X.removeClass("sp-validation-error"),bD();var a=tinycolor({h:I,s:"1.0",v:"1.0"});T.css("background-color",a.toHexString());var b=bz(),c=b.toHexString();bf.css("background-color",c),u&&X.val(b.toString(bj)),s&&bo(),bp()}function bD(){var a=I,b=J,c=K,d=b*C,e=D-c*D;d=Math.max(-E,Math.min(C-E,d-E)),e=Math.max(-E,Math.min(D-E,e-E)),U.css({top:e,left:d});var f=I*F;W.css({top:f-H})}function bE(){var a=bz();bb&&R.val(a.toString(bj)),bh=a,bm(a),z.change(a)}function bF(){C=T.width(),D=T.height(),E=U.height(),G=V.width(),F=V.height(),H=W.height(),n||S.offset(m(S,be)),bD()}function bG(){R.show(),be.unbind("click.spectrum touchstart.spectrum"),S.remove(),bd.remove(),e[bH.id]=null}var l=k(d,c),n=l.flat,p=l.showPaletteOnly,s=l.showPalette||p,t=l.showInitial&&!n,u=l.showInput,v=l.showSelectionPalette,w=l.addSelectionToPalette,x=l.localStorageKey,y=l.theme,z=l.callbacks,A=r(bF,10),B=!1,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=l.palette.slice(0),M=b.isArray(L[0])?L:[L],N=l.selectionPalette.slice(0),O="sp-dragging",P=c.ownerDocument,Q=P.body,R=b(c),S=b(h,P).addClass(y),T=S.find(".sp-color"),U=S.find(".sp-dragger"),V=S.find(".sp-hue"),W=S.find(".sp-slider"),X=S.find(".sp-input"),Y=S.find(".sp-palette"),Z=S.find(".sp-initial"),_=S.find(".sp-cancel"),ba=S.find(".sp-choose"),bb=R.is("input"),bc=bb&&!n,bd=bc?b(g).addClass(y):b([]),be=bc?bd:R,bf=bd.find(".sp-preview"),bg=l.color||bb&&R.val(),bh=!1,bi=l.preferredFormat,bj=!1,bk=!0;ba.text(l.chooseText),_.text(l.cancelText),bl();var bH={show:bu,hide:bw,set:function(a){by(a,!0)},get:bz,destroy:bG};return bH.id=e.push(bH)-1,bH}function m(a,c){var d=0,e=a.outerWidth(),f=a.outerHeight(),g=c.outerWidth(),h=c.outerHeight(),i=a[0].ownerDocument,j=i.documentElement,k=j.clientWidth+b(i).scrollLeft(),l=j.clientHeight+b(i).scrollTop(),m=c.offset();return m.top+=h,m.left-=Math.min(m.left,m.left+e>k&&k>e?Math.abs(m.left+e-k):0),m.top-=Math.min(m.top,m.top+f>l&&l>f?Math.abs(f+h-d):d),m}function n(){}function o(a){a.stopPropagation()}function p(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);return function(){return a.apply(b,d.concat(c.call(arguments)))}}function q(c,d,e,f){function o(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.returnValue=!1}function p(a){if(h){if(!(!l||document.documentMode>=9)&&!a.button)return r();var b=a.originalEvent.touches,e=b?b[0].pageX:a.pageX,f=b?b[0].pageY:a.pageY,g=Math.max(0,Math.min(e-i.left,k)),n=Math.max(0,Math.min(f-i.top,j));m&&o(a),d.apply(c,[g,n])}}function q(a){var d=a.which?a.which==3:a.button==2,f=a.originalEvent.touches;!d&&!h&&e.apply(c,arguments)!==!1&&(h=!0,j=b(c).height(),k=b(c).width(),i=b(c).offset(),b(g).bind(n),b(g.body).addClass("sp-dragging"),m||p(a),o(a))}function r(){h&&(b(g).unbind(n),b(g.body).removeClass("sp-dragging"),f.apply(c,arguments)),h=!1}d=d||function(){},e=e||function(){},f=f||function(){};var g=c.ownerDocument||document,h=!1,i={},j=0,k=0,l=b.browser.msie,m="ontouchstart"in a,n={};n.selectstart=o,n.dragstart=o,n[m?"touchmove":"mousemove"]=p,n[m?"touchend":"mouseup"]=r,b(c).bind(m?"touchstart":"mousedown",q)}function r(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,a.apply(e,f)};c&&clearTimeout(d);if(c||!d)d=setTimeout(g,b)}}var d={color:!1,flat:!1,showInput:!1,showButtons:!0,showInitial:!1,beforeShow:n,move:n,change:n,show:n,hide:n,localStorageKey:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!1,addSelectionToPalette:!0,cancelText:"cancel",chooseText:"choose",className:"",preferredFormat:!1,maxSelectionSize:7,theme:"sp-light",palette:["fff","000"],selectionPalette:[]},e=[],f=b.browser.msie,g=["<div class='sp-replacer'>","<div class='sp-preview'></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),h=function(){var a="";if(f)for(var b=1;b<=6;b++)a+="<div class='sp-"+b+"'></div>";return["<div class='sp-container'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",a,"</div>","</div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),i=function(a,b,c){var d=[];for(var e=0;e<a.length;e++){var f=tinycolor(a[e]),g=f.toHsl().l<.5?"sp-thumb-dark":"sp-thumb-light";g+=tinycolor.equals(b,a[e])?" sp-thumb-active":"",d.push('<span title="'+f.toHexString()+'" data-color="'+f.toHexString()+'" style="background-color:'+f.toRgbString()+';" class="'+g+'"></span>')}return"<div class='sp-cf "+c+"'>"+d.join("")+"</div>"},s="spectrum.id";b.fn.spectrum=function(a,c){return typeof a=="string"?a=="get"?e[this.eq(0).data(s)].get():this.each(function(){var d=e[b(this).data(s)];d&&(a=="show"&&d.show(),a=="hide"&&d.hide(),a=="set"&&d.set(c),a=="destroy"&&(d.destroy(),b(this).removeData(s)))}):this.spectrum("destroy").each(function(){var c=l(this,a);b(this).data(s,c.id)})},b.fn.spectrum.load=!0,b.fn.spectrum.loadOpts={},b.fn.spectrum.draggable=q,b.fn.spectrum.hideAll=j,b.fn.spectrum.processNativeColorInputs=function(){var a=b("<input type='color' />")[0].type==="color";a||b("input[type=color]").spectrum({preferredFormat:"hex6"})},b(function(){b.fn.spectrum.load&&b.fn.spectrum.processNativeColorInputs()})}(this,jQuery),function(a){function k(a,b){if(typeof a=="object"&&a.hasOwnProperty("_tc_id"))return a;var c=l(a),e=c.r,g=c.g,h=c.b,i=j(c.a),k=c.format;return{ok:c.ok,format:k,_tc_id:d++,alpha:i,setAlpha:function(a){i=a},toHsv:function(){var a=p(e,g,h);return{h:a.h,s:a.s,v:a.v,a:i}},toHsvString:function(){var a=p(e,g,h),b=f(a.h*360),c=f(a.s*100),d=f(a.v*100);return i==1?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+i+")"},toHsl:function(){var a=n(e,g,h);return{h:a.h,s:a.s,l:a.l,a:i}},toHslString:function(){var a=n(e,g,h),b=f(a.h*360),c=f(a.s*100),d=f(a.l*100);return i==1?"hsl("+b+", "+c+"%, "+d+"%)":"hsla("+b+", "+c+"%, "+d+"%, "+i+")"},toHex:function(){return r(e,g,h)},toHexString:function(a){return"#"+r(e,g,h,a)},toRgb:function(){return{r:f(e),g:f(g),b:f(h),a:i}},toRgbString:function(){return i==1?"rgb("+f(e)+", "+f(g)+", "+f(h)+")":"rgba("+f(e)+", "+f(g)+", "+f(h)+", "+i+")"},toName:function(){return t[r(e,g,h)]||!1},toFilter:function(){var a=r(e,g,h),b=Math.round(j(i)*255).toString(16);return"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+b+a+",endColorstr=#"+b+a+")"},toString:function(a){a=a||this.format;var b=!1;return a==="rgb"&&(b=this.toRgbString()),a==="hex"&&(b=this.toHexString()),a==="hex6"&&(b=this.toHexString(!0)),a==="name"&&(b=this.toName()),a==="hsl"&&(b=this.toHslString()),a==="hsv"&&(b=this.toHsvString()),b||this.toHexString()}}}function l(a){var b={r:0,g:0,b:0},c=1,d=!1,e=!1;typeof a=="string"&&(a=B(a));if(typeof a=="object"){if(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b"))b=m(a.r,a.g,a.b),d=!0,e="rgb";else if(a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v"))b=q(a.h,a.s,a.v),d=!0,e="hsv";else if(a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")){var b=o(a.h,a.s,a.l);d=!0,e="hsl"}a.hasOwnProperty("a")&&(c=a.a)}return b.r=g(255,h(b.r,0)),b.g=g(255,h(b.g,0)),b.b=g(255,h(b.b,0)),b.r<1&&(b.r=f(b.r)),b.g<1&&(b.g=f(b.g)),b.b<1&&(b.b=f(b.b)),{ok:d,format:a&&a.format||e,r:b.r,g:b.g,b:b.b,a:c}}function m(a,b,c){return{r:v(a,255)*255,g:v(b,255)*255,b:v(c,255)*255}}function n(a,b,c){a=v(a,255),b=v(b,255),c=v(c,255);var d=h(a,b,c),e=g(a,b,c),f,i,j=(d+e)/2;if(d==e)f=i=0;else{var k=d-e;i=j>.5?k/(2-d-e):k/(d+e);switch(d){case a:f=(b-c)/k+(b<c?6:0);break;case b:f=(c-a)/k+2;break;case c:f=(a-b)/k+4}f/=6}return{h:f,s:i,l:j}}function o(a,b,c){function g(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var d,e,f;a=v(a,360),b=v(b,100),c=v(c,100);if(b==0)d=e=f=c;else{var h=c<.5?c*(1+b):c+b-c*b,i=2*c-h;d=g(i,h,a+1/3),e=g(i,h,a),f=g(i,h,a-1/3)}return{r:d*255,g:e*255,b:f*255}}function p(a,b,c){a=v(a,255),b=v(b,255),c=v(c,255);var d=h(a,b,c),e=g(a,b,c),f,i,j=d,k=d-e;i=d==0?0:k/d;if(d==e)f=0;else{switch(d){case a:f=(b-c)/k+(b<c?6:0);break;case b:f=(c-a)/k+2;break;case c:f=(a-b)/k+4}f/=6}return{h:f,s:i,v:j}}function q(a,b,c){var d,f,g;a=v(a,360)*6,b=v(b,100),c=v(c,100);var h=e.floor(a),i=a-h,j=c*(1-b),k=c*(1-i*b),l=c*(1-(1-i)*b),m=h%6,d=[c,k,j,j,l,c][m],f=[l,c,c,k,j,j][m],g=[j,j,l,c,c,k][m];return{r:d*255,g:f*255,b:g*255}}function r(a,b,c,d){function e(a){return a.length==1?"0"+a:""+a}var g=[e(f(a).toString(16)),e(f(b).toString(16)),e(f(c).toString(16))];return!d&&g[0].charAt(0)==g[0].charAt(1)&&g[1].charAt(0)==g[1].charAt(1)&&g[2].charAt(0)==g[2].charAt(1)?g[0].charAt(0)+g[1].charAt(0)+g[2].charAt(0):g.join("")}function u(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function v(a,b){y(a)&&(a="100%");var c=z(a);return a=g(b,h(0,j(a))),c&&(a=a*(b/100)),e.abs(a-b)<1e-6?1:a>=1?a%b/j(b):a}function w(a){return g(1,h(0,a))}function x(a){return parseInt(a,16)}function y(a){return typeof a=="string"&&a.indexOf(".")!=-1&&j(a)===1}function z(a){return typeof a=="string"&&a.indexOf("%")!=-1}function B(a){a=a.replace(b,"").replace(c,"").toLowerCase();var d=!1;if(s[a])a=s[a],d=!0;else if(a=="transparent")return{r:0,g:0,b:0,a:0};var e;return(e=A.rgb.exec(a))?{r:e[1],g:e[2],b:e[3]}:(e=A.rgba.exec(a))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=A.hsl.exec(a))?{h:e[1],s:e[2],l:e[3]}:(e=A.hsla.exec(a))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=A.hsv.exec(a))?{h:e[1],s:e[2],v:e[3]}:(e=A.hex6.exec(a))?{r:x(e[1]),g:x(e[2]),b:x(e[3]),format:d?"name":"hex"}:(e=A.hex3.exec(a))?{r:x(e[1]+""+e[1]),g:x(e[2]+""+e[2]),b:x(e[3]+""+e[3]),format:d?"name":"hex"}:!1}var b=/^[\s,#]+/,c=/\s+$/,d=0,e=Math,f=e.round,g=e.min,h=e.max,i=e.random,j=a.parseFloat;k.fromRatio=function(a){if(typeof a=="object")for(var b in a)a[b]===1&&(a[b]="1.0");return k(a)},k.equals=function(a,b){return!a||!b?!1:k(a).toHex()==k(b).toHex()},k.random=function(){return k.fromRatio({r:i(),g:i(),b:i()})},k.desaturate=function(a,b){var c=k(a).toHsl();return c.s-=(b||10)/100,c.s=w(c.s),k(c)},k.saturate=function(a,b){var c=k(a).toHsl();return c.s+=(b||10)/100,c.s=w(c.s),k(c)},k.greyscale=function(a){return k.desaturate(a,100)},k.lighten=function(a,b){var c=k(a).toHsl();return c.l+=(b||10)/100,c.l=w(c.l),k(c)},k.darken=function(a,b){var c=k(a).toHsl();return c.l-=(b||10)/100,c.l=w(c.l),k(c)},k.complement=function(a){var b=k(a).toHsl();return b.h=(b.h+.5)%1,k(b)},k.triad=function(a){var b=k(a).toHsl(),c=b.h*360;return[k(a),k({h:(c+120)%360,s:b.s,l:b.l}),k({h:(c+240)%360,s:b.s,l:b.l})]},k.tetrad=function(a){var b=k(a).toHsl(),c=b.h*360;return[k(a),k({h:(c+90)%360,s:b.s,l:b.l}),k({h:(c+180)%360,s:b.s,l:b.l}),k({h:(c+270)%360,s:b.s,l:b.l})]},k.splitcomplement=function(a){var b=k(a).toHsl(),c=b.h*360;return[k(a),k({h:(c+72)%360,s:b.s,l:b.l}),k({h:(c+216)%360,s:b.s,l:b.l})]},k.analogous=function(a,b,c){b=b||6,c=c||30;var d=k(a).toHsl(),e=360/c,f=[k(a)];d.h*=360;for(d.h=(d.h-(e*b>>1)+720)%360;--b;)d.h=(d.h+e)%360,f.push(k(d));return f},k.monochromatic=function(a,b){b=b||6;var c=k(a).toHsv(),d=c.h,e=c.s,f=c.v,g=[],h=1/b;while(b--)g.push(k({h:d,s:e,v:f})),f=(f+h)%1;return g},k.readable=function(a,b){var c=k(a).toRgb(),d=k(b).toRgb();return(d.r-c.r)*(d.r-c.r)+(d.g-c.g)*(d.g-c.g)+(d.b-c.b)*(d.b-c.b)>10404};var s=k.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},t=k.hexNames=u(s),A=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();a.tinycolor=k}(this),$.widget("ui.anglepicker",$.ui.mouse,{widgetEventPrefix:"angle",_init:function(){this._mouseInit(),this.pointer=$('<div class="ui-anglepicker-pointer"></div>'),this.pointer.append('<div class="ui-anglepicker-dot"></div>'),this.pointer.append('<div class="ui-anglepicker-line"></div>'),this.element.addClass("ui-anglepicker"),this.element.append(this.pointer),this.setDegrees(this.options.value)},_propagate:function(a,b){this._trigger(a,b,this.ui())},_create:function(){},destroy:function(){this._mouseDestroy(),this.element.removeClass("ui-anglepicker"),this.pointer.remove()},_mouseStart:function(a){var b=this.element.offset();this.width=this.element.width(),this.height=this.element.height(),this.startOffset={x:b.left+this.width/2,y:b.top+this.height/2},this.element.addClass("ui-anglepicker-dragging"),this.setDegreesFromEvent(a),this._propagate("start",a)},_mouseStop:function(a){this.element.removeClass("ui-anglepicker-dragging"),this._propagate("stop",a)},_mouseDrag:function(a){this.setDegreesFromEvent(a),this._propagate("change",a)},_setOption:function(a,b){this._super(a,b)},ui:function(){return{element:this.element,value:this.options.value}},value:function(a){if(!arguments.length)return this.options.value;var b=this.options.value;return this.setDegrees(a),b!==this.options.value&&this._propagate("change"),this},drawRotation:function(){var a="rotate("+ -this.options.value+"deg)";this.pointer.css({"-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,"-o-transform":a,transform:a})},setDegrees:function(a){this.options.value=this.clamp(a),this.drawRotation()},clamp:function(a){return typeof a!="number"&&(a=0),a===-180&&(a=180),a},setDegreesFromEvent:function(a){var b=this.startOffset.y-a.pageY,c=a.pageX-this.startOffset.x,d=Math.atan(b/c),e=Math.round(d*(180/Math.PI),10);a.shiftKey?e=this.roundToMultiple(e,15):a.ctrlKey||(e=this.roundToMultiple(e,5)),c<0&&b>=0?e+=180:b<0&&c<0&&(e-=180),this.setDegrees(e)},roundToMultiple:function(a,b){var c=a/b,d=Math.floor(c),e=c-d;return e>.5?(d+1)*b:d*b},options:{distance:1,delay:1,value:90}});var FreeStyle={};window.log=function a(){log.history=log.history||[],log.history.push(arguments);if(this.console){var a=arguments,b;a.callee=a.callee.caller,b=[].slice.call(a),typeof console.log=="object"?log.apply.call(console.log,console,b):console.log.apply(console,b)}},function(a){function b(){}for(var c="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),d;!!(d=c.pop());)a[d]=a[d]||b}(function(){try{return console.log(),window.console}catch(a){return window.console={}}}()),function(){var a=!1,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(c){function g(){!a&&this.init&&this.init.apply(this,arguments)}var d=this.prototype;a=!0;var e=new this;a=!1;for(var f in c)e[f]=typeof c[f]=="function"&&typeof d[f]=="function"&&b.test(c[f])?function(a,b){return function(){var c=this._super;this._super=d[a];var e=b.apply(this,arguments);return this._super=c,e}}(f,c[f]):c[f];return g.prototype=e,g.prototype.constructor=g,g.extend=arguments.callee,g}}(),Array.prototype.unique=function(a){var b={};for(var c=0,d=this.length;c<d;c+=1){var e=a?a(this[c]):this[c];b.hasOwnProperty(e)||(b[e]=this[c])}var f=[];for(c in b)f.push(b[c]);return f};var Keys={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};Node.prototype.rangeOfWord=function(a,b,c,d){var e,f=0,g,h=0;c||(c=this);if(!d||d==="backward"||d==="both"){var i=this;while(i){if(i===c){e||(e=c);break}if(i.nodeType===Node.TEXT_NODE){var j=i===this?a-1:i.nodeValue.length-1;for(var k=j;k>=0;--k)if(b.indexOf(i.nodeValue[k])!==-1){e=i,f=k+1;break}}if(e)break;i=i.traversePreviousNode(c)}e||(e=c,f=0)}else e=this,f=a;if(!d||d==="forward"||d==="both"){i=this;while(i){if(i===c){g||(g=c);break}if(i.nodeType===Node.TEXT_NODE){var j=i===this?a:0;for(var k=j;k<i.nodeValue.length;++k)if(b.indexOf(i.nodeValue[k])!==-1){g=i,h=k;break}}if(g)break;i=i.traverseNextNode(c)}g||(g=c,h=c.nodeType===Node.TEXT_NODE?c.nodeValue.length:c.childNodes.length)}else g=this,h=a;var l=this.ownerDocument.createRange();return l.setStart(e,f),l.setEnd(g,h),l},Node.prototype.traverseNextTextNode=function(a){var b=this.traverseNextNode(a);if(!b)return;while(b&&b.nodeType!==Node.TEXT_NODE)b=b.traverseNextNode(a);return b},Node.prototype.rangeBoundaryForOffset=function(a){var b=this.traverseNextTextNode(this);while(b&&a>b.nodeValue.length)a-=b.nodeValue.length,b=b.traverseNextTextNode(this);return b?{container:b,offset:a}:{container:this,offset:0}},Element.prototype.removeStyleClass=function(a){this.classList.remove(a)},Element.prototype.removeMatchingStyleClasses=function(a){var b=new RegExp("(^|\\s+)"+a+"($|\\s+)");b.test(this.className)&&(this.className=this.className.replace(b," "))},Element.prototype.addStyleClass=function(a){this.classList.add(a)},Element.prototype.hasStyleClass=function(a){return this.classList.contains(a)},Element.prototype.positionAt=function(a,b){this.style.left=a+"px",this.style.top=b+"px"},Element.prototype.pruneEmptyTextNodes=function(){var a=this.firstChild;while(a){var b=a.nextSibling;a.nodeType===this.TEXT_NODE&&a.nodeValue===""&&this.removeChild(a),a=b}},Element.prototype.isScrolledToBottom=function(){return this.scrollTop+this.clientHeight===this.scrollHeight},Node.prototype.enclosingNodeOrSelfWithNodeNameInArray=function(a){for(var b=this;b&&b!==this.ownerDocument;b=b.parentNode)for(var c=0;c<a.length;++c)if(b.nodeName.toLowerCase()===a[c].toLowerCase())return b;return null},Node.prototype.enclosingNodeOrSelfWithNodeName=function(a){return this.enclosingNodeOrSelfWithNodeNameInArray([a])},Node.prototype.enclosingNodeOrSelfWithClass=function(a){for(var b=this;b&&b!==this.ownerDocument;b=b.parentNode)if(b.nodeType===Node.ELEMENT_NODE&&b.hasStyleClass(a))return b;return null},Node.prototype.enclosingNodeWithClass=function(a){return this.parentNode?this.parentNode.enclosingNodeOrSelfWithClass(a):null},Element.prototype.query=function(a){return this.ownerDocument.evaluate(a,this,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue},Element.prototype.removeChildren=function(){this.firstChild&&(this.textContent="")},Element.prototype.isInsertionCaretInside=function(){var a=window.getSelection();if(!a.rangeCount||!a.isCollapsed)return!1;var b=a.getRangeAt(0);return b.startContainer.isSelfOrDescendant(this)},Element.prototype.createChild=function(a,b){var c=this.ownerDocument.createElement(a);return b&&(c.className=b),this.appendChild(c),c},DocumentFragment.prototype.createChild=Element.prototype.createChild,Element.prototype.totalOffsetLeft=function(){return this.totalOffset().left},Element.prototype.totalOffsetTop=function(){return this.totalOffset().top},Element.prototype.totalOffset=function(){var a=0,b=0;for(var c=this;c;c=c.offsetParent)a+=c.offsetLeft,b+=c.offsetTop,this!==c&&(a+=c.clientLeft-c.scrollLeft,b+=c.clientTop-c.scrollTop);return{left:a,top:b}},Element.prototype.scrollOffset=function(){var a=0,b=0;for(var c=this;c;c=c.scrollParent)a+=c.scrollLeft,b+=c.scrollTop;return{left:a,top:b}},Element.prototype.offsetRelativeToWindow=function(a){var b=new AnchorBox,c=this,d=this.ownerDocument.defaultView;while(d&&c){b.x+=c.totalOffsetLeft(),b.y+=c.totalOffsetTop();if(d===a)break;c=d.frameElement,d=d.parent}return b},Element.prototype.boxInWindow=function(a){a=a||this.ownerDocument.defaultView;var b=this.offsetRelativeToWindow(window);return b.width=Math.min(this.offsetWidth,window.innerWidth-b.x),b.height=Math.min(this.offsetHeight,window.innerHeight-b.y),b},Element.prototype.setTextAndTitle=function(a){this.textContent=a,this.title=a},Event.prototype.consume=function(){this.stopImmediatePropagation(),this.preventDefault(),this.handled=!0},Text.prototype.select=function(a,b){a=a||0,b=b||this.textContent.length,a<0&&(a=b+a);var c=this.ownerDocument.defaultView.getSelection();c.removeAllRanges();var d=this.ownerDocument.createRange();return d.setStart(this,a),d.setEnd(this,b),c.addRange(d),this},Element.prototype.selectionLeftOffset=function(){var a=window.getSelection();if(!a.containsNode(this,!0))return null;var b=a.anchorOffset,c=a.anchorNode;while(c!==this){while(c.previousSibling)c=c.previousSibling,b+=c.textContent.length;c=c.parentNode}return b},String.prototype.hasSubstring=function(a,b){return b?this.match(new RegExp(a.escapeForRegExp(),"i")):this.indexOf(a)!==-1},String.prototype.findAll=function(a){var b=[],c=this.indexOf(a);while(c!==-1)b.push(c),c=this.indexOf(a,c+a.length);return b},String.prototype.lineEndings=function(){return this._lineEndings||(this._lineEndings=this.findAll("\n"),this._lineEndings.push(this.length)),this._lineEndings},String.prototype.asParsedURL=function(){var a=this.match(/^([^:]+):\/\/([^\/:]*)(?::([\d]+))?(?:(\/[^#]*)(?:#(.*))?)?$/i);if(!a)return this=="about:blank"?{scheme:"about",host:"blank",path:"/",lastPathComponent:""}:null;var b={};b.scheme=a[1].toLowerCase(),b.host=a[2],b.port=a[3],b.path=a[4]||"/",b.fragment=a[5],b.lastPathComponent="";if(b.path){var c=b.path,d=c.indexOf("?");d!==-1&&(c=c.substring(0,d));var e=c.lastIndexOf("/");e!==-1&&(b.firstPathComponents=c.substring(0,e+1),b.lastPathComponent=c.substring(e+1))}return b},String.prototype.escapeCharacters=function(a){var b=!1;for(var c=0;c<a.length;++c)if(this.indexOf(a.charAt(c))!==-1){b=!0;break}if(!b)return this;var d="";for(var c=0;c<this.length;++c)a.indexOf(this.charAt(c))!==-1&&(d+="\\"),d+=this.charAt(c);return d},String.prototype.escapeForRegExp=function(){return this.escapeCharacters("^[]{}()\\.$*+?|")},String.prototype.escapeHTML=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},String.prototype.collapseWhitespace=function(){return this.replace(/[\s\xA0]+/g," ")},String.prototype.trimMiddle=function(a){if(this.length<=a)return this;var b=a>>1,c=a-b-1;return this.substr(0,b)+"…"+this.substr(this.length-c,c)},String.prototype.trimEnd=function(a){return this.length<=a?this:this.substr(0,a-1)+"…"},String.prototype.trimURL=function(a){var b=this.replace(/^(https|http|file):\/\//i,"");return a&&(b=b.replace(new RegExp("^"+a.escapeForRegExp(),"i"),"")),b},String.prototype.removeURLFragment=function(){var a=this.indexOf("#");return a==-1&&(a=this.length),this.substring(0,a)},Node.prototype.isAncestor=function(a){if(!a)return!1;var b=a.parentNode;while(b){if(this===b)return!0;b=b.parentNode}return!1},Node.prototype.isDescendant=function(a){return!!a&&a.isAncestor(this)},Node.prototype.isSelfOrAncestor=function(a){return!!a&&(a===this||this.isAncestor(a))},Node.prototype.isSelfOrDescendant=function(a){return!!a&&(a===this||this.isDescendant(a))},Node.prototype.traverseNextNode=function(a){var b=this.firstChild;if(b)return b;if(a&&this===a)return null;b=this.nextSibling;if(b)return b;b=this;while(b&&!b.nextSibling&&(!a||!b.parentNode||b.parentNode!==a))b=b.parentNode;return b?b.nextSibling:null},Node.prototype.traversePreviousNode=function(a){if(a&&this===a)return null;var b=this.previousSibling;while(b&&b.lastChild)b=b.lastChild;return b?b:this.parentNode},Number.constrain=function(a,b,c){return a<b?a=b:a>c&&(a=c),a},Date.prototype.toISO8601Compact=function(){function a(a){return a>9?""+a:"0"+a}return this.getFullYear()+a(this.getMonth()+1)+a(this.getDate())+"T"+a(this.getHours())+a(this.getMinutes())+a(this.getSeconds())},HTMLTextAreaElement.prototype.moveCursorToEnd=function(){var a=this.value.length;this.setSelectionRange(a,a)},Object.defineProperty(Array.prototype,"remove",{value:function(a,b){if(b){var c=this.indexOf(a);c!==-1&&this.splice(c,1);return}var d=this.length;for(var e=0;e<d;++e)this[e]===a&&this.splice(e,1)}}),Object.defineProperty(Array.prototype,"keySet",{value:function(){var a={};for(var b=0;b<this.length;++b)a[this[b]]=!0;return a}}),Object.defineProperty(Array.prototype,"upperBound",{value:function(a){var b=0,c=this.length;while(c>0){var d=c>>1,e=b+d;a>=this[e]?(b=e+1,c-=d+1):c=d}return b}}),Array.diff=function(a,b){var c=a,d=b,e={},f={};for(var g=0;g<d.length;g++)e[d[g]]==null&&(e[d[g]]={rows:[],o:null}),e[d[g]].rows.push(g);for(var g=0;g<c.length;g++)f[c[g]]==null&&(f[c[g]]={rows:[],n:null}),f[c[g]].rows.push(g);for(var g in e)e[g].rows.length==1&&typeof f[g]!="undefined"&&f[g].rows.length==1&&(d[e[g].rows[0]]={text:d[e[g].rows[0]],row:f[g].rows[0]},c[f[g].rows[0]]={text:c[f[g].rows[0]],row:e[g].rows[0]});for(var g=0;g<d.length-1;g++)d[g].text!=null&&d[g+1].text==null&&d[g].row+1<c.length&&c[d[g].row+1].text==null&&d[g+1]==c[d[g].row+1]&&(d[g+1]={text:d[g+1],row:d[g].row+1},c[d[g].row+1]={text:c[d[g].row+1],row:g+1});for(var g=d.length-1;g>0;g--)d[g].text!=null&&d[g-1].text==null&&d[g].row>0&&c[d[g].row-1].text==null&&d[g-1]==c[d[g].row-1]&&(d[g-1]={text:d[g-1],row:d[g].row-1},c[d[g].row-1]={text:c[d[g].row-1],row:g-1});return{left:c,right:d}},Array.convert=function(a){return Array.prototype.slice.call(a)},String.sprintf=function(a,b){return String.vsprintf(a,Array.prototype.slice.call(arguments,1))},String.tokenizeFormatString=function(a,b){function e(a){c.push({type:"string",value:a})}function f(a,b,d){c.push({type:"specifier",specifier:a,precision:b,substitutionIndex:d})}function g(a){return!!/[0-9]/.exec(a)}var c=[],d=0,h=0;for(var i=a.indexOf("%",h);i!==-1;i=a.indexOf("%",h)){e(a.substring(h,i)),h=i+1;if(g(a[h])){var j=parseInt(a.substring(h),10);while(g(a[h]))++h;j>0&&a[h]==="$"&&(d=j-1,++h)}var k=-1;if(a[h]==="."){++h,k=parseInt(a.substring(h),10),isNaN(k)&&(k=0);while(g(a[h]))++h}if(a[h]in b)f(a[h],k,d),++d,++h;else{e(a.substring(i,h+1)),++h;continue}}return e(a.substring(h)),c},String.standardFormatters={d:function(a){return isNaN(a)?0:a},f:function(a,b){return a&&b.precision>-1&&(a=a.toFixed(b.precision)),isNaN(a)?b.precision>-1?Number(0).toFixed(b.precision):0:a},s:function(a){return a}},String.vsprintf=function(a,b){return String.format(a,b,String.standardFormatters,"",function(a,b){return a+b}).formattedResult},String.format=function(a,b,c,d,e){function f(){return'String.format("'+a+'", "'+b.join('", "')+'")'}function g(a){console.warn(f()+": "+a)}function h(a){console.error(f()+": "+a)}if(!a||!b||!b.length)return{formattedResult:e(d,a),unusedSubstitutions:b};var i=d,j=String.tokenizeFormatString(a,c),k={};for(var l=0;l<j.length;++l){var m=j[l];if(m.type==="string"){i=e(i,m.value);continue}if(m.type!=="specifier"){h('Unknown token type "'+m.type+'" found.');continue}if(m.substitutionIndex>=b.length){h("not enough substitution arguments. Had "+b.length+" but needed "+(m.substitutionIndex+1)+", so substitution was skipped."),i=e(i,"%"+(m.precision>-1?m.precision:"")+m.specifier);continue}k[m.substitutionIndex]=!0;if(m.specifier in c)i=e(i,c[m.specifier](b[m.substitutionIndex],m));else{g("unsupported format character “"+m.specifier+"”. Treating as a string."),i=e(i,b[m.substitutionIndex]);continue}}var n=[];for(var l=0;l<b.length;++l){if(l in k)continue;n.push(b[l])}return{formattedResult:i,unusedSubstitutions:n}},TextDiff.compute=function(a,b){var c=a.split(/\r?\n/),d=b.split(/\r?\n/),e=Array.diff(c,d),f=new TextDiff,g=0,h=e.right;for(var i=0;i<h.length;++i)typeof h[i]=="string"?h.length>i+1&&h[i+1].row===i+1-g?f.changed.push(i):(f.added.push(i),g++):g=i-h[i].row;return f};var Map=function(){this._map={}};Map._lastObjectIdentifier=0,Map.prototype={put:function(a,b){var c=a.__identifier;c||(c=++Map._lastObjectIdentifier,a.__identifier=c),this._map[c]=b},remove:function(a){delete this._map[a.__identifier]},values:function(){var a=[];for(var b in this._map)a.push(this._map[b]);return a},get:function(a){return this._map[a.__identifier]},clear:function(){this._map={}}},FreeStyle.Object=function(){},FreeStyle.Object.prototype={addEventListener:function(a,b,c){console.assert(b),this._listeners||(this._listeners={}),this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].push({thisObject:c,listener:b})},removeEventListener:function(a,b,c){console.assert(b);if(!this._listeners||!this._listeners[a])return;var d=this._listeners[a];for(var e=0;e<d.length;++e)b&&d[e].listener===b&&d[e].thisObject===c?d.splice(e,1):!b&&c&&d[e].thisObject===c&&d.splice(e,1);d.length||delete this._listeners[a]},removeAllListeners:function(){delete this._listeners},hasEventListeners:function(a){return!this._listeners||!this._listeners[a]?!1:!0},dispatchEventToListeners:function(a,b){if(!this._listeners||!this._listeners[a])return!1;var c=new FreeStyle.Event(this,a,b),d=this._listeners[a].slice(0);for(var e=0;e<d.length;++e){d[e].listener.call(d[e].thisObject,c);if(c._stoppedPropagation)break}return c.defaultPrevented}},FreeStyle.Event=function(a,b,c){this.target=a,this.type=b,this.data=c,this.defaultPrevented=!1,this._stoppedPropagation=!1},FreeStyle.Event.prototype={stopPropagation:function(){this._stoppedPropagation=!0},preventDefault:function(){this.defaultPrevented=!0},consume:function(a){this.stopPropagation(),a&&this.preventDefault()}};